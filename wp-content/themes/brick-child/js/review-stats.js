"use strict";!function(e,t){var a=t.querySelector(".popup-rating-stars-wrapper"),r=t.querySelector(".rating-popup-description");function n(e,t){var r='<div class="rating" style="display: none"><span class="ratingValue">'.concat(e,'</span><span class="reviewCount">').concat(t,"</span></div>");a.insertAdjacentHTML("beforebegin",r)}fetch(reviewStatsUrl,{method:"GET",headers:{"Content-Type":"application/json;charset=utf-8"}}).then(function(e){if(e.ok)return e.json()}).then(function(t){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=e.location.pathname.replace(/\/$/,""),r=t.find(function(e){return e.url===a})||{};r.rating&&r.count&&n(r.rating,r.count)}(t)}).catch(function(){});var o,s=t.querySelector("#submit-feedback"),i=t.querySelector(".rating-popup-overlay"),l=t.querySelector(".rating-popup"),c=t.querySelector(".page-main-wrapper"),p=t.querySelector("#send-rating-preloader"),u=t.querySelectorAll('input[type="radio"]'),f=localStorage.getItem("rating"),d=e.location.pathname,g=f&&JSON.parse(f).find(function(e){return e.path===d}),h=0,v=function(e){e.preventDefault(),i.classList.remove("rating-overlay-show"),l.classList.remove("open"),t.documentElement.classList.remove("popup-open","rating-popup-open"),c.style.top=0,t.documentElement.scrollTop=h};if(t.querySelectorAll(".rating-popup-close, .rating-popup-overlay").forEach(function(e){e.addEventListener("click",v)}),g){u.forEach(function(e){e.disabled=!0}),o=g.rating;t.querySelectorAll(".rating-feedback-stars label").forEach(function(e){e.getAttribute("for").slice(-1)<=o?(e.classList.add("on"),s.style.display="none"):e.classList.remove("on")})}else{var m=t.querySelectorAll(".rating-feedback-stars label");u.forEach(function(e){e.addEventListener("click",function(){o=e.getAttribute("id").slice(-1),m.forEach(function(e){e.getAttribute("for").slice(-1)<=o?(e.classList.add("on"),s.disabled=!1):e.classList.remove("on")})})}),m.forEach(function(e){e.addEventListener("mouseenter",function(){if(s.disabled){var t=e.getAttribute("for").slice(-1);m.forEach(function(e){e.getAttribute("for").slice(-1)<=t?e.classList.add("on"):e.classList.remove("on")})}}),e.addEventListener("mouseleave",function(){s.disabled&&m.forEach(function(e){e.classList.remove("on")})})}),s.addEventListener("click",function(g){g.preventDefault();var v=t.querySelector(".error-msg");v&&(v.style.display="none");var m={review_url:/\/$/.test(d)?d.slice(0,-1):d,review_rating:Number(o)},y=function(e){var o=!!t.querySelector(".rating"),s=o?t.querySelector(".ratingValue").innerHTML:Number(e),i=o?t.querySelector(".reviewCount").innerHTML:1,l=o?Number(i)+1:Number(i),c=o?((Number(s)*Number(i)+Number(e))/l).toFixed(2):(Number(e)/l).toFixed(2),p=c-c%1,u=c%1*100;o?(t.querySelector(".ratingValue").innerHTML=c,t.querySelector(".reviewCount").innerHTML=l):n(e,1);var f=5-p;u&&(f-=1),r.innerHTML="".concat(l," user").concat(1===l?"":"s"," found the page helpful"),o&&(a.innerHTML=""),function(e,t,r){for(var n=0;n<e;n++)a.insertAdjacentHTML("afterbegin",'<svg width="32" height="32" fill="none" xmlns="http://www.w3.org/2000/svg" focusable="false" class="inline-svg"><path d="M28.3781 11.0343l-7.9344-1.1531-3.5469-7.1907a.9944.9944 0 00-.4531-.453c-.4938-.2438-1.0938-.0407-1.3406.453l-3.5469 7.1907-7.9344 1.1531a.998.998 0 00-.5719.2906 1.0017 1.0017 0 00.0188 1.4156l5.7406 5.5969-1.3562 7.9031a.9983.9983 0 001.45 1.0532l7.0968-3.7313 7.0969 3.7313a.993.993 0 00.6344.1c.5437-.0938.9094-.6094.8156-1.1532l-1.3562-7.9031 5.7406-5.5969a.998.998 0 00.2906-.5718c.0844-.5469-.2969-1.0532-.8437-1.1344z" fill="#0076BE"></path></svg>');var o='<svg width="32" height="32" viewBox="0 0 32 32" version="1.1" xmlns="http://www.w3.org/2000/svg"><defs><linearGradient id="half"><stop offset="0%" stop-color="#0076BE"/><stop class="rating-gradient-step" offset="'.concat(t,'%" stop-color="#0076BE"/><stop class="rating-gradient-step" offset="').concat(t,'%" stop-color="white"/><stop offset="100%" stop-color="white"/></linearGradient><linearGradient id="half2"><stop offset="0%" stop-color="#0076BE"/><stop class="rating-gradient-step" offset="').concat(t,'%" stop-color="#0076BE"/><stop class="rating-gradient-step" offset="').concat(t,'%" stop-color="#474747"/><stop offset="100%" stop-color="#474747"/></linearGradient></defs><g fill="url(#half)"><path d="M28.3781 11.0343l-7.9344-1.1531-3.5469-7.1907a.9944.9944 0 00-.4531-.453c-.4938-.2438-1.0938-.0407-1.3406.453l-3.5469 7.1907-7.9344 1.1531a.998.998 0 00-.5719.2906 1.0017 1.0017 0 00.0188 1.4156l5.7406 5.5969-1.3562 7.9031a.9983.9983 0 001.45 1.0532l7.0968-3.7313 7.0969 3.7313a.993.993 0 00.6344.1c.5437-.0938.9094-.6094.8156-1.1532l-1.3562-7.9031 5.7406-5.5969a.998.998 0 00.2906-.5718c.0844-.5469-.2969-1.0532-.8437-1.1344z"/></g><g fill="url(#half2)" fill-opacity=".5"><path d="M28.3781 11.0343l-7.9344-1.1531-3.5469-7.1907a.9944.9944 0 00-.4531-.453c-.4938-.2438-1.0938-.0407-1.3406.453l-3.5469 7.1907-7.9344 1.1531a.998.998 0 00-.5719.2906 1.0017 1.0017 0 00.0188 1.4156l5.7406 5.5969-1.3562 7.9031a.9983.9983 0 001.45 1.0532l7.0968-3.7313 7.0969 3.7313a.993.993 0 00.6344.1c.5437-.0938.9094-.6094.8156-1.1532l-1.3562-7.9031 5.7406-5.5969a.998.998 0 00.2906-.5718c.0844-.5469-.2969-1.0532-.8437-1.1344zm-7.6032 6.5156l1.1282 6.5719-5.9032-3.1-5.9031 3.1031 1.1281-6.5719-4.775-4.6562 6.6-.9594 2.95-5.9781 2.95 5.9781 6.6.9594-4.775 4.6531z"/></g></svg>');t&&a.insertAdjacentHTML("beforeend",o);for(var s=0;s<r;s++)a.insertAdjacentHTML("beforeend",'<svg width="32" height="32" fill="none" xmlns="http://www.w3.org/2000/svg" focusable="false" class="inline-svg"><path d="M28.3781 11.0343l-7.9344-1.1531-3.5469-7.1907a.9944.9944 0 00-.4531-.453c-.4938-.2438-1.0938-.0407-1.3406.453l-3.5469 7.1907-7.9344 1.1531a.998.998 0 00-.5719.2906 1.0017 1.0017 0 00.0188 1.4156l5.7406 5.5969-1.3562 7.9031a.9983.9983 0 001.45 1.0532l7.0968-3.7313 7.0969 3.7313a.993.993 0 00.6344.1c.5437-.0938.9094-.6094.8156-1.1532l-1.3562-7.9031 5.7406-5.5969a.998.998 0 00.2906-.5718c.0844-.5469-.2969-1.0532-.8437-1.1344zm-7.6032 6.5156l1.1282 6.5719-5.9032-3.1-5.9031 3.1031 1.1281-6.5719-4.775-4.6562 6.6-.9594 2.95-5.9781 2.95 5.9781 6.6.9594-4.775 4.6531z" fill="#474747" fill-opacity=".5"></path></svg>')}(p,u,f)};!function(){if(!(0>o||o>5)){var a=t.querySelector("#review-form").getAttribute("action");s.style.display="none",p.classList.add("shown"),fetch(a,{method:"POST",body:JSON.stringify(m),headers:{"Content-Type":"application/json;charset=utf-8"}}).then(function(a){if(a.ok){if(null===f)localStorage.setItem("rating",JSON.stringify([{path:d,rating:o}]));else{var r=JSON.parse(f);r.push({path:d,rating:o}),localStorage.setItem("rating",JSON.stringify(r))}s.classList.add("rating-feedback-submit-hidden"),s.outerHTML="<p class='thanks-msg'>Thank you for your feedback!</p>",t.querySelector(".thanks-msg").classList.add("thanks-msg-active"),u.disabled=!0,p.classList.remove("shown"),y(o),l&&(i.classList.add("rating-overlay-show"),h=e.pageYOffset,l.classList.add("open"),t.documentElement.classList.add("popup-open","rating-popup-open"),c.style.position="relative",c.style.top="".concat(-h,"px"))}}).catch(function(){s.insertAdjacentHTML("afterend","<p class='error-msg'>The submission wasn't successful, please try again.</p>"),t.querySelector(".error-msg").classList.add("error-msg-active")})}}()})}}(window,document);